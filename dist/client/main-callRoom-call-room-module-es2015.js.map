{"version":3,"sources":["./src/app/main/callRoom/call-room.component.html","./src/app/main/callRoom/call-room.component.css","./src/app/main/callRoom/call-room.component.ts","./src/app/main/callRoom/call-room.module.ts","./src/app/main/callRoom/call-room.service.ts"],"names":[],"mappings":"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","file":"main-callRoom-call-room-module-es2015.js","sourcesContent":["export default \"<div class=\\\"containerSelfVideo\\\" [style.background-color]=\\\"isCameraOpen ? 'rgb(28, 30, 33)' : 'transparent'\\\">\\r\\n  <video id=\\\"userVideo\\\" class=\\\"selfVideoPlayer\\\" [style.display]=\\\"isCameraOpen ? 'inline' : 'none'\\\" height=\\\"200px\\\"\\r\\n    width=\\\"200px\\\">\\r\\n    <source>\\r\\n  </video>\\r\\n</div>\\r\\n<div class=\\\"containerUserVideo\\\">\\r\\n  <video class=\\\"userVideoPlayer\\\" id=\\\"otherUserVideo\\\" [style.display]=\\\"isOtherUserCameraOpen ? 'inline' : 'none'\\\">\\r\\n    <source>\\r\\n  </video>\\r\\n</div>\\r\\n<div *ngIf=\\\"userCallDes\\\" class=\\\"main-div\\\">\\r\\n  <div class=\\\"row\\\" style=\\\"height: 100%;\\\">\\r\\n    <div class=\\\"col-12\\\" style=\\\"height: 100%; padding-top: 200px;\\\">\\r\\n      <div *ngIf=\\\"!isOtherUserCameraOpen\\\" class=\\\"user-info-container\\\">\\r\\n        <img [src]=\\\"userCallDes.profileImg\\\" class=\\\"user-image\\\" />\\r\\n      </div>\\r\\n      <div *ngIf=\\\"!isOtherUserCameraOpen\\\">\\r\\n        <div style=\\\" margin-top: 30px;\\\" class=\\\"user-info-container\\\">\\r\\n          <p style=\\\"font-weight: 800;font-size: 18px;\\\" [style.color]=\\\"isCameraOpen? 'white': 'black'\\\">\\r\\n            {{userCallDes?.surname}} {{userCallDes?.name}}.</p>\\r\\n        </div>\\r\\n        <div class=\\\"user-info-container\\\">\\r\\n          <p style=\\\"color: #999999;\\\">{{callState}}</p>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"main-buttons-container\\\" [style.margin-top]=\\\"isOtherUserCameraOpen ? '190px':'0'\\\">\\r\\n        <div *ngIf=\\\"callStatus\\\" class=\\\"buttons-bar-container\\\">\\r\\n          <div class=\\\"button-control-container\\\" [style.border-color]=\\\"!isCameraOpen? '#999999' : '#0084ff'\\\"\\r\\n            [style.background-color]=\\\"isCameraOpen? '#0084ff' : 'white' \\\">\\r\\n            <i [ngClass]=\\\"isCameraOpen? 'fas fa-video media-control-icon media-active' : 'fas fa-video-slash media-control-icon'\\\"\\r\\n              (click)=\\\"onOpenAndCloseCamera(!isCameraOpen)\\\"></i>\\r\\n          </div>\\r\\n          <div class=\\\"button-control-container\\\" style=\\\"margin: 30px 30px;\\\"\\r\\n            [style.border-color]=\\\"!isMicroOpen? '#999999' : '#0084ff'\\\"\\r\\n            [style.background-color]=\\\"isMicroOpen? '#0084ff' : 'white'\\\">\\r\\n            <i [ngClass]=\\\"isMicroOpen? 'fas fa-microphone media-control-icon media-active' : 'fas fa-microphone-slash media-control-icon'\\\"\\r\\n              (click)=\\\"onOpenAndCloseMicro(!isMicroOpen)\\\"></i>\\r\\n\\r\\n          </div>\\r\\n          <div class=\\\"button-control-container\\\" style=\\\"background-color: #f03d25;\\\">\\r\\n            <i class=\\\" fas fa-phone endcall-icon\\\" (click)=\\\"endCall()\\\"></i>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"!callStatus\\\" class=\\\"call-ended-container\\\">\\r\\n          <div class=\\\"call-ended-buttons-container\\\">\\r\\n            <div class=\\\"recompose-button-container\\\">\\r\\n              <i class=\\\" fas fa-phone recompose-icon\\\" (click)=\\\"endCall()\\\"></i>\\r\\n            </div>\\r\\n            <p style=\\\"max-width:80px;\\\">Redial the number</p>\\r\\n\\r\\n          </div>\\r\\n          <div class=\\\"call-ended-buttons-container\\\">\\r\\n            <div class=\\\"close-button-container\\\">\\r\\n              <i class=\\\"fas fa-times close-icon\\\" (click)=\\\"closeCallWindow()\\\"></i>\\r\\n            </div>\\r\\n            <p>Close</p>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\"","export default \".main-div {\\r\\n\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  width: 100vw;\\r\\n  height: 100vh;\\r\\n}\\r\\n\\r\\n.containerUserVideo {\\r\\n  width: 35vw;\\r\\n  height: 100%;\\r\\n  position: absolute;\\r\\n  padding: 0;\\r\\n  margin: 0;\\r\\n  left: calc(50vw - 17.5vw);\\r\\n  top: 0px;\\r\\n  z-index: -900;\\r\\n  overflow: hidden;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n\\r\\n}\\r\\n\\r\\n.user-image {\\r\\n  height: 100px;\\r\\n  width: 100px;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.main-buttons-container {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: flex-end;\\r\\n  height: 60%;\\r\\n}\\r\\n\\r\\n.call-ended-buttons-container {\\r\\n  margin-left: 40px;\\r\\n  margin-right: 40px;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.recompose-button-container {\\r\\n  width: 44px;\\r\\n  border-radius: 50%;\\r\\n  padding: 11px;\\r\\n  border: 1px solid #0084ff;\\r\\n  margin: auto;\\r\\n}\\r\\n\\r\\n.close-button-container {\\r\\n  width: 44px;\\r\\n  border-radius: 50%;\\r\\n  padding: 11px 14px 11px 14px;\\r\\n  border: 1px solid #f03d25;\\r\\n  margin: auto;\\r\\n}\\r\\n\\r\\n.call-ended-container {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  width: 100%;\\r\\n  height: 200px;\\r\\n}\\r\\n\\r\\n.button-control-container {\\r\\n  border-radius: 50%;\\r\\n  height: 50px;\\r\\n  border: 1px solid transparent;\\r\\n  width: 50px;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n\\r\\n}\\r\\n\\r\\n.buttons-bar-container {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n/* rgb(28, 30, 33); */\\r\\n\\r\\n.userVideoPlayer {\\r\\n  min-height: 100%;\\r\\n  margin-right: 5px;\\r\\n  margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.containerSelfVideo {\\r\\n  width: 100vw;\\r\\n  height: 100vh;\\r\\n  position: absolute;\\r\\n  display: flex;\\r\\n  justify-content: flex-end;\\r\\n  align-items: flex-end;\\r\\n  padding: 0;\\r\\n  margin: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  z-index: -1000;\\r\\n\\r\\n}\\r\\n\\r\\n.close-icon {\\r\\n  font-size: 20px;\\r\\n  color: #f03d25;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.user-info-container {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.recompose-icon {\\r\\n  font-size: 20px;\\r\\n  color: #0084ff;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.endcall-icon {\\r\\n  font-size: 20px;\\r\\n  color: white;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.media-control-icon {\\r\\n  font-size: 20px;\\r\\n  border-radius: 50%;\\r\\n  cursor: pointer;\\r\\n  color: #999999;\\r\\n}\\r\\n\\r\\n.media-active {\\r\\n\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9jYWxsUm9vbS9jYWxsLXJvb20uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osYUFBYTtBQUNmOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLFNBQVM7RUFDVCx5QkFBeUI7RUFDekIsUUFBUTtFQUNSLGFBQWE7RUFDYixnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLHVCQUF1Qjs7QUFFekI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsWUFBWTtFQUNaLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIscUJBQXFCO0VBQ3JCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsNEJBQTRCO0VBQzVCLHlCQUF5QjtFQUN6QixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsYUFBYTtBQUNmOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1COztBQUVyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBLHFCQUFxQjs7QUFFckI7RUFDRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLFVBQVU7RUFDVixTQUFTO0VBQ1QsUUFBUTtFQUNSLFNBQVM7RUFDVCxjQUFjOztBQUVoQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixjQUFjO0VBQ2QsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGNBQWM7RUFDZCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsY0FBYztBQUNoQjs7QUFFQTs7RUFFRSxZQUFZO0FBQ2QiLCJmaWxlIjoic3JjL2FwcC9tYWluL2NhbGxSb29tL2NhbGwtcm9vbS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW4tZGl2IHtcclxuXHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIHdpZHRoOiAxMDB2dztcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG59XHJcblxyXG4uY29udGFpbmVyVXNlclZpZGVvIHtcclxuICB3aWR0aDogMzV2dztcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGxlZnQ6IGNhbGMoNTB2dyAtIDE3LjV2dyk7XHJcbiAgdG9wOiAwcHg7XHJcbiAgei1pbmRleDogLTkwMDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblxyXG59XHJcblxyXG4udXNlci1pbWFnZSB7XHJcbiAgaGVpZ2h0OiAxMDBweDtcclxuICB3aWR0aDogMTAwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG59XHJcblxyXG4ubWFpbi1idXR0b25zLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgaGVpZ2h0OiA2MCU7XHJcbn1cclxuXHJcbi5jYWxsLWVuZGVkLWJ1dHRvbnMtY29udGFpbmVyIHtcclxuICBtYXJnaW4tbGVmdDogNDBweDtcclxuICBtYXJnaW4tcmlnaHQ6IDQwcHg7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4ucmVjb21wb3NlLWJ1dHRvbi1jb250YWluZXIge1xyXG4gIHdpZHRoOiA0NHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBwYWRkaW5nOiAxMXB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDg0ZmY7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG59XHJcblxyXG4uY2xvc2UtYnV0dG9uLWNvbnRhaW5lciB7XHJcbiAgd2lkdGg6IDQ0cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIHBhZGRpbmc6IDExcHggMTRweCAxMXB4IDE0cHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2YwM2QyNTtcclxuICBtYXJnaW46IGF1dG87XHJcbn1cclxuXHJcbi5jYWxsLWVuZGVkLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMjAwcHg7XHJcbn1cclxuXHJcbi5idXR0b24tY29udHJvbC1jb250YWluZXIge1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgd2lkdGg6IDUwcHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxufVxyXG5cclxuLmJ1dHRvbnMtYmFyLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4vKiByZ2IoMjgsIDMwLCAzMyk7ICovXHJcblxyXG4udXNlclZpZGVvUGxheWVyIHtcclxuICBtaW4taGVpZ2h0OiAxMDAlO1xyXG4gIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDVweDtcclxufVxyXG5cclxuLmNvbnRhaW5lclNlbGZWaWRlbyB7XHJcbiAgd2lkdGg6IDEwMHZ3O1xyXG4gIGhlaWdodDogMTAwdmg7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgcGFkZGluZzogMDtcclxuICBtYXJnaW46IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHotaW5kZXg6IC0xMDAwO1xyXG5cclxufVxyXG5cclxuLmNsb3NlLWljb24ge1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBjb2xvcjogI2YwM2QyNTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi51c2VyLWluZm8tY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5yZWNvbXBvc2UtaWNvbiB7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIGNvbG9yOiAjMDA4NGZmO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmVuZGNhbGwtaWNvbiB7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5tZWRpYS1jb250cm9sLWljb24ge1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGNvbG9yOiAjOTk5OTk5O1xyXG59XHJcblxyXG4ubWVkaWEtYWN0aXZlIHtcclxuXHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Howl } from 'howler';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { CallRoomService } from './call-room.service';\r\n\r\n\r\ndeclare var Peer: any;\r\n\r\n\r\n@Component({\r\n    selector: 'app-mainpage',\r\n    templateUrl: './call-room.component.html',\r\n    styleUrls: ['./call-room.component.css']\r\n})\r\n\r\nexport class CallRoomComponent implements OnInit {\r\n    peer = new Peer(undefined);\r\n    myPeerId;\r\n    roomId: any;\r\n    isVideoCall: any;\r\n    userCallDes: any\r\n    connectedUser: any\r\n    ringinSound: Howl;\r\n    callState: string;\r\n    isCaller: boolean;\r\n    callStatus: boolean;\r\n    isCameraOpen: boolean;\r\n    isOtherUserCameraOpen: boolean;\r\n    isMicroOpen: boolean;\r\n    pauseResumeCameraStream: BehaviorSubject<boolean>;\r\n    pauseResumeMicroStream: BehaviorSubject<boolean>;\r\n    stopCallStream: BehaviorSubject<boolean>;\r\n\r\n    myVideo: any;\r\n    userVideo: any;\r\n    callWindow;\r\n    time: number = 0;\r\n    interval;\r\n    constructor(private callRoomService: CallRoomService, private router: ActivatedRoute) {\r\n        this.stopCallStream = new BehaviorSubject(null);\r\n        this.pauseResumeMicroStream = new BehaviorSubject(null);\r\n        this.pauseResumeCameraStream = new BehaviorSubject(null);\r\n        this.isCameraOpen = false;\r\n        this.isMicroOpen = true;\r\n\r\n        this.callStatus = true;\r\n        this.callState = 'Mise en relation...'\r\n        this.ringinSound = new Howl({\r\n            src: ['/assets/audio/isringing.mp3'],\r\n            loop: true\r\n\r\n        });\r\n\r\n    }\r\n    ngOnInit() {\r\n        this.isVideoCall = this.router.snapshot.queryParamMap.get('video') == 'true';\r\n        this.isCameraOpen = this.isVideoCall;\r\n        this.isOtherUserCameraOpen = false;\r\n        this.roomId = this.router.snapshot.paramMap.get('id');\r\n        this.isCaller = this.router.snapshot.queryParamMap.get('iscaller') == 'true';\r\n\r\n        this.userVideo = document.getElementById('otherUserVideo')\r\n        this.userVideo.addEventListener('loadedmetadata', () => {\r\n            this.userVideo.play()\r\n        })\r\n        this.myVideo = document.getElementById('userVideo')\r\n        this.myVideo.addEventListener('loadedmetadata', () => {\r\n            this.myVideo.play()\r\n        })\r\n\r\n\r\n\r\n        this.peer.on('open', id => {\r\n            this.callRoomService.startCall(this.roomId, id)\r\n        })\r\n        this.callRoomService.userDisconnectFromRoom()\r\n            .subscribe(() => {\r\n                this.stopTimer()\r\n                this.stopCallStream.next(true)\r\n                this.callStatus = false;\r\n                this.callState = 'Call Ended'\r\n                this.isOtherUserCameraOpen = false;\r\n            })\r\n        this.callRoomService.onCallEnded()\r\n            .subscribe(res => {\r\n                // this.ringinSound.stop() \r\n                this.isOtherUserCameraOpen = false;\r\n                if (this.time > 0) {\r\n                    this.stopTimer();\r\n                    this.callStatus = false;\r\n                    this.callState = 'Call Ended...'\r\n                    if (this.isCaller) {\r\n                        this.callRoomService.getConversationByUsers(this.userCallDes._id)\r\n                            .subscribe((response: any) => {\r\n                                this.callRoomService.logCall(response.conversation._id, true, this.isVideoCall)\r\n                                    .subscribe()\r\n\r\n                            })\r\n                    }\r\n                } else {\r\n                    this.callStatus = false;\r\n                    this.callState = 'Call Ended...'\r\n                    if (this.isCaller) {\r\n                        this.callRoomService.getConversationByUsers(this.userCallDes._id)\r\n                            .subscribe((response: any) => {\r\n                                this.callRoomService.logCall(response.conversation._id, false, false)\r\n                                    .subscribe()\r\n\r\n                            })\r\n                    }\r\n                }\r\n                this.stopCallStream.next(true)\r\n\r\n\r\n            })\r\n        const userIds = this.roomId.split('-')\r\n        this.callRoomService.onCallState()\r\n            .subscribe(state => {\r\n\r\n                if (state) {\r\n\r\n                    this.callStatus = true;\r\n                    this.callState = 'its ringing...'\r\n                    //this.ringinSound.play()\r\n\r\n                }\r\n                else {\r\n                    this.callState = 'No answer                    '\r\n                    this.stopCallStream.next(true)\r\n                    this.callStatus = false;\r\n                    if (this.isCaller)\r\n                        this.callRoomService.getConversationByUsers(this.userCallDes._id)\r\n                            .subscribe((response: any) => {\r\n                                this.callRoomService.logCall(response.conversation._id, false, false)\r\n                                    .subscribe()\r\n\r\n                            })\r\n                }\r\n            })\r\n        this.callRoomService.getConnectUser()\r\n            .subscribe((response: any) => {\r\n                console.log(response)\r\n                this.connectedUser = response.user\r\n                this.callRoomService.getUserById(this.connectedUser._id == userIds[1] ? userIds[0] : userIds[1])\r\n                    .subscribe((response: any) => {\r\n                        this.userCallDes = response\r\n                        if (this.isCaller)\r\n                            this.callRoomService.callUser(this.connectedUser._id, this.userCallDes._id, this.isVideoCall)\r\n                        else {\r\n                            this.startTimer()\r\n                            this.isOtherUserCameraOpen = this.isVideoCall\r\n\r\n                        }\r\n                    })\r\n\r\n            })\r\n\r\n        this.callRoomService.onCameraStateChanged()\r\n            .subscribe((action: boolean) => {\r\n                this.isOtherUserCameraOpen = action\r\n                this.isVideoCall = this.isCameraOpen || action\r\n            })\r\n        this.createCall()\r\n\r\n    }\r\n    endCall() {\r\n        if (this.time > 0) {\r\n            this.stopTimer()\r\n        }\r\n        this.callStatus = false;\r\n        this.callState = 'Call Ended'\r\n        this.isOtherUserCameraOpen = false;\r\n        this.callRoomService.endCall(this.userCallDes, false)\r\n        this.callRoomService.endCall(this.userCallDes, true)\r\n        this.stopCallStream.next(true)\r\n        if (this.isCaller) {\r\n            this.callRoomService.getConversationByUsers(this.userCallDes._id)\r\n                .subscribe((response: any) => {\r\n                    this.callRoomService.logCall(response.conversation._id, true, this.isVideoCall)\r\n                        .subscribe()\r\n\r\n                })\r\n        }\r\n\r\n\r\n    }\r\n    onOpenAndCloseCamera(status: boolean) {\r\n        this.isCameraOpen = status\r\n        this.pauseResumeCameraStream.next(this.isCameraOpen)\r\n        this.callRoomService.userOpenCloseCamera(this.userCallDes._id, status)\r\n        this.isVideoCall = this.isOtherUserCameraOpen || status;\r\n    }\r\n    onOpenAndCloseMicro(status: boolean) {\r\n        this.isMicroOpen = status\r\n        this.pauseResumeMicroStream.next(this.isMicroOpen)\r\n    }\r\n    closeCallWindow() {\r\n        this.callRoomService.setOpenCallWindow(true)\r\n    }\r\n    createCall() {\r\n\r\n        this.myVideo.muted = true;\r\n        navigator.mediaDevices.getUserMedia({ video: true, audio: false })\r\n            .then(stream => {\r\n                if (!this.isVideoCall) stream.getVideoTracks().forEach(track => track.enabled = false)\r\n\r\n                this.pauseResumeCameraStream\r\n                    .subscribe(action => {\r\n                        if (action !== null) {\r\n\r\n                            stream.getVideoTracks().forEach(track => track.enabled = action)\r\n                        }\r\n                    })\r\n                this.pauseResumeMicroStream\r\n                    .subscribe(action => {\r\n                        if (action !== null) {\r\n                            stream.getAudioTracks().forEach(track => track.enabled = action)\r\n                        }\r\n                    })\r\n                this.stopCallStream\r\n                    .subscribe(res => {\r\n                        if (res) {\r\n                            stream.getTracks().forEach(track => track.stop())\r\n                            this.myVideo.remove()\r\n                            this.userVideo.remove()\r\n\r\n                        }\r\n                    })\r\n\r\n                this.myVideo.srcObject = stream\r\n\r\n                this.peer.on('call', call => {\r\n                    call.answer(stream)\r\n                    call.on('stream', userVideoStream => {\r\n                        this.userVideo.srcObject = userVideoStream\r\n                    })\r\n                })\r\n                this.callRoomService.userJoiningRoom()\r\n                    .subscribe(userId => {\r\n                        this.startTimer();\r\n                        this.connectToNewUser(userId, stream)\r\n                        this.isOtherUserCameraOpen = this.isVideoCall\r\n\r\n                    })\r\n            })\r\n    }\r\n    connectToNewUser(userId, stream) {\r\n        const call = this.peer.call(userId, stream)\r\n        call.on('stream', userVideoStream => {\r\n            this.userVideo.srcObject = userVideoStream\r\n\r\n        })\r\n        call.on('close', () => {\r\n            console.log('call ended')\r\n        })\r\n    }\r\n    startTimer() {\r\n        this.interval = setInterval(() => {\r\n            if (this.time === 0) {\r\n                this.time++;\r\n            } else {\r\n                this.time++;\r\n            }\r\n            this.callState = this.transform(this.time)\r\n        }, 1000);\r\n    }\r\n    transform(value: number) {\r\n        const minutes: number = Math.floor(value / 60);\r\n        const seconds = (value - minutes * 60)\r\n        const minutesStr = minutes < 10 ? '0' + minutes : minutes\r\n        const secondsStr = seconds < 10 ? '0' + seconds : seconds\r\n        return `${minutesStr}:${secondsStr}`\r\n    }\r\n    pauseTimer() {\r\n        clearInterval(this.interval);\r\n    }\r\n    stopTimer() {\r\n        clearInterval(this.interval)\r\n        this.time = 0\r\n    }\r\n}","\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CallRoomComponent } from './call-room.component';\r\nimport { CallRoomService } from './call-room.service';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nconst RoomRoutes: Routes = [\r\n\r\n    {\r\n        path: ':id',\r\n        component: CallRoomComponent\r\n    },\r\n    {\r\n        path: '**',\r\n        redirectTo: '/chat/messenger'\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CallRoomComponent\r\n    ],\r\n\r\n    imports: [\r\n\r\n        CommonModule,\r\n        RouterModule.forChild(RoomRoutes),\r\n        FormsModule\r\n    ],\r\n    providers: [CallRoomService],\r\n})\r\nexport class CallRoomModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { Socket } from 'ngx-socket-io';\r\n\r\n\r\n@Injectable()\r\nexport class CallRoomService {\r\n\r\n    private closeCallWindow = new BehaviorSubject(null);\r\n    constructor(private http: HttpClient, private socket: Socket) {\r\n\r\n        this.socket.emit('connectuser', localStorage.getItem('token'), true)\r\n\r\n    }\r\n\r\n    startCall(roomId: string, userPeerId: string) {\r\n        this.socket.emit('join-room', roomId, userPeerId)\r\n    }\r\n    userDisconnectFromRoom() {\r\n        let observable = new Observable(\r\n            (observer) => {\r\n                this.socket.on('user-disconnected-from-room', (data) => {\r\n                    console.log(data)\r\n                    observer.next(data);\r\n                });\r\n                return () => this.socket.disconnect();\r\n            }\r\n        );\r\n        return observable;\r\n    }\r\n    getConversationByUsers(userid: string) {\r\n\r\n        return this.http.get('https://vartlaaap.herokuapp.com/conversation/byusers/' + userid)\r\n    }\r\n    logCall(conversationId, isAnsweredCall, isVideoCall) {\r\n        return this.http.post('https://vartlaaap.herokuapp.com/conversation/call/' + conversationId, { isAnsweredCall, isVideoCall })\r\n\r\n    }\r\n    callUser(callerUserId, receiverUserId, isVideoCall) {\r\n        this.socket.emit('call-user', callerUserId, receiverUserId, isVideoCall)\r\n    }\r\n    onCallEnded() {\r\n        let observable = new Observable(\r\n            (observer) => {\r\n                this.socket.on('call-ended', (data) => {\r\n                    console.log('hey call ended')\r\n                    observer.next(data);\r\n                });\r\n                return () => this.socket.disconnect();\r\n            }\r\n        );\r\n        return observable\r\n    }\r\n    onCameraStateChanged() {\r\n        let observable = new Observable(\r\n            (observer) => {\r\n                this.socket.on('onCameraStateChange', (data) => {\r\n                    observer.next(data);\r\n                });\r\n                return () => this.socket.disconnect();\r\n            }\r\n        );\r\n        return observable\r\n    }\r\n\r\n    userOpenCloseCamera(DestUserId, action) {\r\n        this.socket.emit('cameraOpenClose', DestUserId, action)\r\n    }\r\n\r\n    onCallState() {\r\n        let observable = new Observable(\r\n            (observer) => {\r\n                this.socket.on('user-call-state', (data) => {\r\n                    observer.next(data);\r\n                });\r\n                return () => this.socket.disconnect();\r\n            }\r\n        );\r\n        return observable\r\n    }\r\n    getUserById(userId) {\r\n        return this.http.get(`https://vartlaaap.herokuapp.com/user/${userId}`)\r\n    }\r\n    getConnectUser() {\r\n\r\n        return this.http.get('https://vartlaaap.herokuapp.com/user/bytoken')\r\n    }\r\n    endCall(userCaller, fromCaller) {\r\n        this.socket.emit('end-call', userCaller, fromCaller)\r\n    }\r\n    setOpenCallWindow(bool) {\r\n        this.closeCallWindow.next(bool)\r\n    }\r\n    userJoiningRoom() {\r\n        let observable = new Observable(\r\n            (observer) => {\r\n                this.socket.on('userConnectedToRoom', (data) => {\r\n                    console.log(data)\r\n                    observer.next(data);\r\n                });\r\n                return () => this.socket.disconnect();\r\n            }\r\n        );\r\n        return observable;\r\n    }\r\n}"],"sourceRoot":"webpack:///"}